libtexprintf/utftex test file
run some specific tests

How this test file works:
Each test consists of a named block with input and reference outputs
Text inbetween blocks is ignored. One block may have more than one 
reference outputs. To this end you can specify arguments for which the 
reference should be obtained. If several arguments produce the same 
reference you may specify several sets of arguments with one reference 
output. The argument sets should be separated with '|'
For Example:

<input> example
abcd
<ref> |-S|-A|-F text
abcd
<ref> -F mathnormal
ğ‘ğ‘ğ‘ğ‘‘
<end>

This creates a block named "example" which tests the input "abcd" and 
has two reference outputs, the first reference output is "abcd" and 
should be obtained
- without arguments
- with "-S"
- with "-A"
- with "-F text"
The second reference output ("ğ‘ğ‘ğ‘ğ‘‘") is obtained with the argument 
"-F mathnormal"
Thus this example produces in total 5 test results, one for each 
reference/argument combination.


################# specific tests
test raisebox
<input> raisebox
a\raisebox{2}{b}c
<ref> |-S|-A
 b

a c
<end>

test integrals
<input> integral
\int_a^b f(x) dx
<ref> |-S
âŒ áµ‡
â®  f(x) dx
âŒ¡â‚
<ref> -A
 b
/
|  f(x) dx
/
 a
<ref> -m
 b
âŒ 
â®  f(x) dx
âŒ¡
 a
<end>

double integral
<input> iintegral
\iint_a^b f(x) dx
<ref> |-S
b
âŒ âŒ 
â®â® f(x) dx
âŒ¡âŒ¡
áµƒ
<ref> -A
b
//
|| f(x) dx
//
a
<ref> -m
b
âŒ âŒ 
â®â® f(x) dx
âŒ¡âŒ¡
a
<end>

<input> iiint
\iiint_a^b f(x) dx
<ref>  | -S
 b
âŒ âŒ âŒ 
â®â®â® f(x) dx
âŒ¡âŒ¡âŒ¡
 áµƒ
<ref> -A
 b
///
||| f(x) dx
///
 a
<ref> -m
 b
âŒ âŒ âŒ 
â®â®â® f(x) dx
âŒ¡âŒ¡âŒ¡
 a
<end>

<input> iiiint
\iiiint_a^b f(x) dx
<ref>  | -S
 b
âŒ âŒ âŒ âŒ 
â®â®â®â® f(x) dx
âŒ¡âŒ¡âŒ¡âŒ¡
 áµƒ
<ref> -A
 b
////
|||| f(x) dx
////
 a
<ref> -m
 b
âŒ âŒ âŒ âŒ 
â®â®â®â® f(x) dx
âŒ¡âŒ¡âŒ¡âŒ¡
 a
<end>

n-dimensional integral
<input> idotsintegral
\idotsint_a^b f(x) dx
<ref> |-S
 b
âŒ  âŒ 
â®â‹¯â® f(x) dx
âŒ¡ âŒ¡
 áµƒ
<ref> -A
 b
/ /
|â‹¯| f(x) dx
/ /
 a
<ref> -m
 b
âŒ  âŒ 
â®â‹¯â® f(x) dx
âŒ¡ âŒ¡
 a
<end>

<input> oint
\oint_a^b f(x) dx
<ref>  | -S
 âŒ  áµ‡
â¸¦â®â¸§  f(x) dx
 âŒ¡ â‚
<ref> -A
   b
 /
(|)  f(x) dx
 /
   a
<ref> -m
   b
 âŒ 
â¸¦â®â¸§  f(x) dx
 âŒ¡
   a
<end>

<input> oiint
\oiint_a^b f(x) dx
<ref>  | -S
 b
 âŒ âŒ 
â¸¦â®â®â¸§ f(x) dx
 âŒ¡âŒ¡
 áµƒ
<ref> -A
 b
 //
(||) f(x) dx
 //
 a
<ref> -m
 b
 âŒ âŒ 
â¸¦â®â®â¸§ f(x) dx
 âŒ¡âŒ¡
 a
<end>


<input> oiiint
\oiiint_a^b f(x) dx
<ref>  | -S
  b
 âŒ âŒ âŒ 
â¸¦â®â®â®â¸§ f(x) dx
 âŒ¡âŒ¡âŒ¡
  áµƒ
<ref> -A
  b
 ///
(|||) f(x) dx
 ///
  a
<ref> -m
  b
 âŒ âŒ âŒ 
â¸¦â®â®â®â¸§ f(x) dx
 âŒ¡âŒ¡âŒ¡
  a
<end>


<input> oiiiint
\oiiiint_a^b f(x) dx
<ref>  | -S
  b
 âŒ âŒ âŒ âŒ 
â¸¦â®â®â®â®â¸§ f(x) dx
 âŒ¡âŒ¡âŒ¡âŒ¡
  áµƒ
<ref> -A
  b
 ////
(||||) f(x) dx
 ////
  a
<ref> -m
  b
 âŒ âŒ âŒ âŒ 
â¸¦â®â®â®â®â¸§ f(x) dx
 âŒ¡âŒ¡âŒ¡âŒ¡
  a
<end>

<input> oidotsint
\oidotsint_a^b f(x) dx
<ref>  | -S
  b
 âŒ  âŒ 
â¸¦â®â‹¯â®â¸§ f(x) dx
 âŒ¡ âŒ¡
  áµƒ
<ref> -A
  b
 / /
(|â‹¯|) f(x) dx
 / /
  a
<ref> -m
  b
 âŒ  âŒ 
â¸¦â®â‹¯â®â¸§ f(x) dx
 âŒ¡ âŒ¡
  a
<end>

<input> overline_s
\overline{s}
<ref>  | -S | -m
sÌ…
<ref> -A
_
s
<ref> -F mathnormal
ğ‘ Ì…
<end>

<input> overline_l
\overline{abc}
<ref>  | -S | -m
â–â–â–
abc
<ref> -A
___
abc
<ref> -F mathnormal
â–â–â–
ğ‘ğ‘ğ‘
<end>

<input> underline_s
\underline{s}
<ref>   | -S | -m
sÌ²
<ref> -A
s
-
<ref> -F mathnormal
ğ‘ Ì²
<end>

<input> underline_l
\underline{abc}
<ref>   | -S | -m
abc
â”€â”€â”€
<ref> -A
abc
---
<ref> -F mathnormal
ğ‘ğ‘ğ‘
â”€â”€â”€
<end>

<input> bar_s
\bar{s}
<ref>   | -S | -m
sÌ…
<ref> -A
_
s
<ref> -F mathnormal
ğ‘ Ì…
<end>

<input> bar_l
\bar{abc}
<ref>   | -S | -m
â–â–â–
abc
<ref> -A
___
abc
<ref> -F mathnormal
â–â–â–
ğ‘ğ‘ğ‘
<end>

<input> grave_l
\grave{abc}
<ref>   | -A | -S | -m
 `
abc
<end>

<input> grave_s
\grave{a}
<ref>   | -S | -m
aÌ€
<ref> -A
`
a
<end>

<input> acute_s
\acute{a}
<ref>   | -S | -m
aÌ
<ref> -A
Â´
a
<end>

<input> acute_l
\acute{abc}
<ref>   | -A | -S | -m
 Â´
abc
<end>

<input> hat_l
\hat{abc}
<ref>   | -A | -S | -m
 ^
abc
<end>

<input> hat_s
\hat{a}
<ref>   | -S | -m
aÌ‚
<ref> -A
^
a
<end>

<input> tilde_s
\tilde{a}
<ref>   | -S | -m
aÌƒ
<ref> -A
~
a
<end>

<input> tilde_l
\tilde{abc}
<ref>   | -A | -S | -m
 ~
abc
<end>

there is no ascii breve
<input> breve_l
\breve{abc}
<ref>   | -S | -m
 â—¡
abc
<ref> -A
abc
<end>

<input> breve_s
\breve{a}
<ref>   | -S | -m
aÌ†
<ref> -A
a
<end>

<input> dot_s
\dot{a}
<ref>   | -S | -m
aÌ‡
<ref> -A
.
a
<end>

<input> dot_l
\dot{abc}
<ref>   | -A | -S | -m
 .
abc
<end>

<input> ddot_s
\ddot{a}
<ref>   | -S | -m
aÌˆ
<ref> -A
a
<end>

not sure how to handle a double dot/mathring/and some others on top of a long expression
<input> ddot_l
\ddot{abc}
<ref>   | -A | -S | -m
abc
<end>
 
<input> mathring_s
\mathring{a}
<ref>   | -S | -m
aÌŠ
<ref> -A
a
<end>

<input> mathring_l
\mathring{abc}
<ref>   | -A | -S | -m
abc
<end>

<input> double_accute_l
\H{abc}
<ref>   | -A | -S | -m
abc
<end>

<input> double_accute_s
\H{a}
<ref>   | -S | -m
aÌ‹
<ref> -A
a
<end>

<input> check_s
\check{a}
<ref>   | -S | -m
aÌŒ
<ref> -A
a
<end>

<input> check_l
\check{abc}
<ref>   | -A | -S | -m
abc
<end>

<input> cedilla
\c{abc} \c{c} \c c
<ref>   | -S | -m
abc cÌ§ cÌ§
<ref> -A
abc c c
<end>

<input> ogonek
\k{abc} \k{c} \k c
<ref>   | -S | -m
abc cÌ¨ cÌ¨
<ref> -A
abc c c
<end>

<input> utilde
\utilde{abc} \utilde{c} \utilde c
<ref>   | -S | -m
abc cÌ° cÌ°
 ~
<ref> -A
abc c c
 ~  ~ ~
<end>

<input> solidus1
\l{abc} \l{c} \l c
<ref>   | -S | -m
abc cÌ· cÌ·
<ref> -A
abc c c
<end>

<input> solidus2
\not{abc} \not{c} \not c
<ref>   | -S | -m
abc cÌ¸ cÌ¸
<ref> -A
abc c c
<end>

backslash. The backslash command produces a symbol but is not included 
in the symbol table. We test it here

<input> backslash
\backslash
<ref> |-S|-A
\
<end>

utftex has a "box" command producing an empty space with a given width 
and height
<input> box
 _f\box{2}{2}^q
<ref> |-S | -A
    q


 f
<end>


test phantom boxes
<input> phantom
\sum_{j\in 0,\ldots\, 10 \vphantom{3^{3^{3^j}}}} \sum_{i\in 0,\ldots\, 3^{3^{3^j}}} i\cdot j
<ref> |-S
    â²         â²
    â³         â³      iâ‹…j
                  3Ê²
                 3
jâˆˆ0,â€¦ 10  iâˆˆ0,â€¦ 3
<ref> -A
   __         __
   \          \      iâ‹…j
   /_         /_
                   j
                  3
                 3
jâˆˆ0,â€¦ 10  iâˆˆ0,â€¦ 3
<end>


test arrays
<input> array1
\left[
\begin{array}{ccc}
x_{11} & x_{12} & x_{13}\\
x_{21} & x_{22} & x_{23}\\
x_{31} & x_{32} & x_{33}
\end{array}
\right]
<ref> |-S
â¡xâ‚â‚  xâ‚â‚‚  xâ‚â‚ƒâ¤
â¢xâ‚‚â‚  xâ‚‚â‚‚  xâ‚‚â‚ƒâ¥
â£xâ‚ƒâ‚  xâ‚ƒâ‚‚  xâ‚ƒâ‚ƒâ¦
<ref> -A
+x    x    x  +
| 11   12   13|
|x    x    x  |
| 21   22   23|
|x    x    x  |
+ 31   32   33+
<end>

<input> array2
\left[
\begin{array}{ccc}
x_{11} & x_{12} & x_{13}\\
x_{21} & x_{22} & x_{23}\\
x_{31} & x_{32} & x_{33}
\end{array} \left|
\begin{array}{ccc}
y_{11} & y_{12} & y_{13}\\
y_{21} & y_{22} & y_{23}\\
y_{31} & y_{32} & y_{33}
\end{array}
\right.
\right]
<ref> |-S
â¡xâ‚â‚  xâ‚â‚‚  xâ‚â‚ƒ â¢yâ‚â‚  yâ‚â‚‚  yâ‚â‚ƒâ¤
â¢xâ‚‚â‚  xâ‚‚â‚‚  xâ‚‚â‚ƒ â¢yâ‚‚â‚  yâ‚‚â‚‚  yâ‚‚â‚ƒâ¥
â£xâ‚ƒâ‚  xâ‚ƒâ‚‚  xâ‚ƒâ‚ƒ â¢yâ‚ƒâ‚  yâ‚ƒâ‚‚  yâ‚ƒâ‚ƒâ¦
<ref> -A
+x    x    x   |y    y    y  +
| 11   12   13 | 11   12   13|
|x    x    x   |y    y    y  |
| 21   22   23 | 21   22   23|
|x    x    x   |y    y    y  |
+ 31   32   33 | 31   32   33+
<end>

the limits command
<input> limits
F(x)\limits_a^x
<ref> |-S
 â‚“
F(x)
 áµƒ
<ref> -m |-A
 x
F(x)
 a
<end>


limit
<input> lim
\lim_{x\downarrow 1} \frac{1}{x-1}
<ref> |-S
     1
lim â”€â”€â”€
xâ†“1 x-1
<ref> -A
     1
lim ---
xâ†“1 x-1
<end>

<input> over
{a\over b}
<ref> |-S
a
â”€
b
<ref> -A
a
-
b
<end>

<input> choose
{n\choose k}
<ref> |-S
â›nâ
âœ âŸ
âkâ 
<ref> -A
/n\
| |
\k/
<end>


<input> exp
\exp
<ref> |-S|-F mathnormal|-A
exp
<end>


<input> primes
a' a'' a''' a''''
<ref> |-S
aâ€² aâ€³ aâ€´ aâ—
<ref> -A
a' a'' a''' a''''
<end>

<input> sqrt
\sqrt[3]{\box{2}{3}}
<ref>  | -S | -m
  â”Œâ”€â”€â”
3 â”‚
â•² â”‚
 â•²â”‚
<ref> -A
  ____
3 |
\ |
 \|
<end>
<input> sqrt2
\sqrt[3000]{\box{2}{3}}
<ref>  | -S | -m
     â”Œâ”€â”€â”
3000 â”‚
   â•² â”‚
    â•²â”‚
<ref> -A
     ____
3000 |
   \ |
    \|
<end>
<input> sqrt3
\sqrt{\box{2}{3}}
<ref>  | -S | -m
  â”Œâ”€â”€â”
  â”‚
â•² â”‚
 â•²â”‚
<ref> -A
  ____
  |
\ |
 \|
<end>
<input> brac1
\left(\box{2}{3}\right)
<ref>  | -S | -m
â›  â
âœ  âŸ
â  â 
<ref> -A
/  \
|  |
\  /
<end>
<input> brac2
\left[\box{2}{3}\right]
<ref>  | -S | -m
â¡  â¤
â¢  â¥
â£  â¦
<ref> -A
+  +
|  |
+  +
<end>
<input> brac3
\left{\box{2}{3}\right}
<ref>  | -S | -m
â§  â«
â¨  â¬
â©  â­
<ref> -A
/  \
<  >
\  /
<end>
<input> brac4
\left<\box{2}{3}\right>
<ref>  | -S | -m
 â•±  â•²
â•±    â•²
â•²    â•±
 â•²  â•±
<ref> -A
 /  \
/    \
\    /
 \  /
<end>
<input> brac5
\left|\box{2}{3}\right|
<ref>  | -S | -m
â¢  â¢
â¢  â¢
â¢  â¢
<ref> -A
|  |
|  |
|  |
<end>

For the more special brackets we have the issue that we could also draw 
some of these in ASCII but I don't...

<input> brac6
\left\uparrow\box{2}{3}\right\uparrow
<ref>  | -A | -S | -m
â–²  â–²
â¢  â¢
â¢  â¢
<end>
<input> brac7
\left\downarrow\box{2}{3}\right\downarrow
<ref>  | -A | -S | -m
â¢  â¢
â¢  â¢
â–¼  â–¼
<end>
<input> brac8
\left\lceil\box{2}{3}\right\rceil
<ref>  | -A | -S | -m
â¡  â¤
â¢  â¥
â¢  â¥
<end>
<input> brac9
\left\lfloor\box{2}{3}\right\rfloor
<ref>  | -A | -S | -m
â¢  â¥
â¢  â¥
â£  â¦
<end>

test argument parsing

<input> argparse_space
\frac  {1}{\alpha}
<ref>  | -S | -m
1
â”€
Î±
<ref> -A
1
-
Î±
<end>

<input> argparse_nobrac1
\frac  {1}\alpha
<ref>  | -S | -m
1
â”€
Î±
<ref> -A
1
-
Î±
<end>

<input> argparse_nobrac2
\frac1\alpha
<ref>  | -S | -m
1
â”€
Î±
<ref> -A
1
-
Î±
<end>

test greedy operators
<input> greedyover
a + b\over c
<ref>  | -S | -m
a + b
â”€â”€â”€â”€â”€
  c
<ref> -A
a + b
-----
  c
<end>

<input> greedyover2
{a + b\over c} + d
<ref>  | -S | -m
a + b
â”€â”€â”€â”€â”€ + d
  c
<ref> -A
a + b
----- + d
  c
<end>

test whether nested brackets are processed correctly
<input> greedyover3
{a {+} b\over c} + d
<ref>  | -S | -m
a + b
â”€â”€â”€â”€â”€ + d
  c
<ref> -A
a + b
----- + d
  c
<end>

ambigous input. libtexprintf lets
\over precede over \choose
and the first appearance over any subsequent
Note that latex throws and error and tells you it is ambiguous...
<input> greedyoverchoose
a\choose b+s\over d
<ref>  | -S | -m
â› a â
âœ   âŸ
âb+sâ 
â”€â”€â”€â”€â”€
  d
<ref> -A
/ a \
|   |
\b+s/
-----
  d
<end>
