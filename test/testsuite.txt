libtexprintf/utftex test file
run some specific and alos lots of random tests

How this test file works:
Each test consists of a named block with input and reference outputs
Text inbetween blocks is ignored. One block may have more than one 
reference outputs. To this end you can sepcify arguments for which the 
reference should be obtained. If several arguments produce the same 
reference you may specify several sets of arguments with one reference 
output. The argument sets should be separated with '|'
For Example:

<input> example
abcd
<ref> |-S|-A|-F text
abcd
<ref> -F mathnormal
ğ‘ğ‘ğ‘ğ‘‘
<end>

This creates a block names example which tests the input "abcd" and has 
to reference outputs, the first reference output is "absd" and should 
be obtained
- without arguments
- with "-S"
- with "-A"
- with "-F text"
The second reference output ("ğ‘ğ‘ğ‘ğ‘‘") is obtained with the argument 
"-F mathnormal"
Note that this example actually runs and produces 5 test results, one 
for each reference/argument combination.

<input> eq1
\mathrm{W_{cubic}}(t) = C * (t - K)^3 + W_{max}
<ref> |-S
W     (t) = C * (t - K)Â³ + Wâ‚˜â‚â‚“
 cubic
<ref> -A
                       3
W     (t) = C * (t - K)  + W
 cubic                      max
<end>

<input> eq2
K = \sqrt[3]{\frac{W_{max} - cwnd}{C}}
<ref> |-S
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    3 â”‚Wâ‚˜â‚â‚“ - cwnd
K = â•² â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â•²â”‚     C
<ref> -A
       _____________
    3  |W    - cwnd
    \  | max
K =  \ |-----------
      \|     C
<end>

<input> eq3
target = \left\{
\begin{array}{ll}
cwnd                          & \text{if } \mathrm{W_{cubic}}(t + RTT) <= cwnd \\
1.5 * cwnd                    & \text{if } \mathrm{W_{cubic}}(t + RTT) != 1.5 * cwnd \\
\mathrm{W_{cubic}}(t + RTT)   & \text{otherwise} \\
\end{array} \right.
<ref> |-S
         â§cwnd             if  W     (t + RTT) <= cwnd
         âª                      cubic
         âª1.5 * cwnd       if  W     (t + RTT) != 1.5 * cwnd
target = â¨                      cubic
         âªW     (t + RTT)  otherwise
         âª cubic
         â©
<ref> -A
         /cwnd             if  W     (t + RTT) <= cwnd
         |                      cubic
         |1.5 * cwnd       if  W     (t + RTT) != 1.5 * cwnd
target = <                      cubic
         |W     (t + RTT)  otherwise
         | cubic
         \
<end>

<input> eq4
\mathrm{AIMD}(\alpha_{aimd}, \beta_{aimd}) =
    \sqrt{\frac{\alpha_{aimd} * (1 + \beta_{aimd})}{2 * (1 - \beta_{aimd}) * p}}
<ref> |-S
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚Î±     * (1 + Î²    )
                        â”‚ aimd         aimd
AIMD(Î±    , Î²    ) = â•²  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      aimd   aimd     â•² â”‚2 * (1 - Î²    ) * p
                       â•²â”‚          aimd
<ref> -A
                        _____________________
                        |Î±     * (1 + Î²    )
                        | aimd         aimd
AIMD(Î±    , Î²    ) = \  |-------------------
      aimd   aimd     \ |2 * (1 - Î²    ) * p
                       \|          aimd
<end>

<input> eq5
\begin{array}[b]{ll}
W_{max} = cwnd & \text{// save cwnd before reduction} \\
ssthresh = \mathrm{max}(cwnd * \beta_{cubic}, 2) & \text{// new ssthresh (at least 2 MSS)} \\
cwnd = ssthresh & \text{// window reduction} \\
\end{array}
<ref> |-S
Wâ‚˜â‚â‚“ = cwnd                       // save cwnd before reduction
ssthresh = max(cwnd * Î²     , 2)  // new ssthresh (at least 2 MSS)
                       cubic
cwnd = ssthresh                   // window reduction
<ref> -A
W    = cwnd                       // save cwnd before reduction
 max
ssthresh = max(cwnd * Î²     , 2)  // new ssthresh (at least 2 MSS)
                       cubic
cwnd = ssthresh                   // window reduction
<end>

<input> eq6
\left<W_{last\_max}, W_{max}\right> = \left\{
\begin{array}{ll}
\left<W_{max}, W_{max} * \frac{1 + \beta_{cubic}}{2}\right>  & \text{if } W_{max} < W_{last\_max} \\
\left<W_{max}, W_{max}\right>                            &\text{otherwise} \\
\end{array} \right.
<ref> |-S
                    â§ â•±             1 + Î²     â•²
                    âªâ•±                   cubic â•²
                    âªâ•² Wâ‚˜â‚â‚“, Wâ‚˜â‚â‚“ * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â•±  if  Wâ‚˜â‚â‚“ < W
â•±W        , Wâ‚˜â‚â‚“â•² = â¨ â•²                 2     â•±               last_max
â•² last_max      â•±   âªâ•±          â•²
                    âªâ•²Wâ‚˜â‚â‚“, Wâ‚˜â‚â‚“â•±                otherwise
                    â©
<ref> -A
                    / /             1 + Î²     \
                    |/                   cubic \
                    |\ W   , W    * ---------- /  if  W    < W
/W        , W   \ = < \ max   max       2     /        max    last_max
\ last_max   max/   |/W   , W   \                otherwise
                    |\ max   max/
                    \
<end>

<input> eq7
\left.
\begin{array}{l}
cwnd = prior\_cwnd \\
ssthresh = prior\_ssthresh \\
W_{max} = prior\_W_{max} \\
K = prior\_K \\
epoch\_start = prior\_epoch\_start \\
W_{est} = prior\_W_{est} \\
\end{array}
\right\}
\text{if }cwnd < prior\_cwnd
<ref> |-S
cwnd = prior_cwnd               â«
ssthresh = prior_ssthresh       â®
Wâ‚˜â‚â‚“ = prior_Wâ‚˜â‚â‚“               â®
K = prior_K                     â¬if cwnd < prior_cwnd
epoch_start = prior_epoch_start â®
Wâ‚‘â‚›â‚œ = prior_Wâ‚‘â‚›â‚œ               â®
                                â­
<ref> -A
cwnd = prior_cwnd               \
ssthresh = prior_ssthresh       |
W    = prior_W                  |
 max          max               |
K = prior_K                     >if cwnd < prior_cwnd
epoch_start = prior_epoch_start |
W    = prior_W                  |
 est          est               |
                                /
<end>


<input> eq8
\begin{array}{lll}
ssthresh = &
flight\_size * \beta_{cubic} &
\text{new } ssthresh \\
cwnd_{prior} = &
cwnd &
\text{save } cwnd \\
cwnd = &
\left\{
\begin{array}{ll}
 \mathrm{max}(ssthresh, 2) & \\
 \mathrm{max}(ssthresh, 1) & \\
\end{array}
\right. &
\begin{array}{ll}
 \text{reduction on loss}, cwnd \text{ is at least 2 MSS} & \\
 \text{reduction on ECE}, cwnd \text{ is at least 1 MSS} & \\
\end{array}
\\
ssthresh = &
\mathrm{max}(ssthresh, 2) &
ssthresh \text{ is at least 2 MSS} \\
\end{array}
<ref> |-S
ssthresh =  flight_size * Î²      new  ssthresh
                           cubic
cwndâ‚šáµ£áµ¢â‚’áµ£ = cwnd                 save  cwnd
            â§ max(ssthresh, 2)    reduction on loss, cwnd  is at least 2 MSS
cwnd =      â¨ max(ssthresh, 1)    reduction on ECE, cwnd  is at least 1 MSS
            â©
ssthresh =  max(ssthresh, 2)     ssthresh  is at least 2 MSS
<ref> -A
ssthresh =  flight_size * Î²      new  ssthresh
                           cubic
cwnd      = cwnd                 save  cwnd
    prior
            / max(ssthresh, 2)    reduction on loss, cwnd  is at least 2 MSS
cwnd =      < max(ssthresh, 1)    reduction on ECE, cwnd  is at least 1 MSS
            \
ssthresh =  max(ssthresh, 2)     ssthresh  is at least 2 MSS
<end>

<input> eq9
\begin{align}
f(x) & = \sin(x) \\
gobo(x) & = \arctan(\sin(x))
\end{align}
<ref> |-S
   f(x)  = sin(x)
gobo(x)  = arctan(sin(x))
<ref> -A
   f(x)  = sin(x)
gobo(x)  = arctan(sin(x))
<end>

<input> eq20
\begin{array}{ccc}
x_{11} & x_{12} & x_{13}\\
x_{21} & x_{22} & x_{23}\\
x_{31} & x_{32} & x_{33}
\end{array}
<ref> |-S
xâ‚â‚  xâ‚â‚‚  xâ‚â‚ƒ
xâ‚‚â‚  xâ‚‚â‚‚  xâ‚‚â‚ƒ
xâ‚ƒâ‚  xâ‚ƒâ‚‚  xâ‚ƒâ‚ƒ
<ref> -A
x    x    x
 11   12   13
x    x    x
 21   22   23
x    x    x
 31   32   33
<end>

% when using primes in tests we need to escape some stuff
<input> eq21
'a\' a\'\' a\'\'\' a\'\'\'\''
<ref> |-S
aâ€² aâ€³ aâ€´ aâ—
<ref> -A
'a\' a\'\' a\'\'\' a\'\'\'\''
<end>

test phantom boxes
<input> phantom
\sum_{j\in 0,\ldots\, 10 \vphantom{3^{3^{3^j}}}} \sum_{i\in 0,\ldots\, 3^{3^{3^j}}} i\cdot j
<ref> |-S
    â²         â²
    â³         â³      iâ‹…j
                  3Ê²
                 3
jâˆˆ0,â€¦ 10  iâˆˆ0,â€¦ 3
<ref> -A
   __         __
   \          \      iâ‹…j
   /_         /_
                   j
                  3
                 3
jâˆˆ0,â€¦ 10  iâˆˆ0,â€¦ 3
<end>

test arrays
<input> array1
\left[
\begin{array}{ccc}
x_{11} & x_{12} & x_{13}\\
x_{21} & x_{22} & x_{23}\\
x_{31} & x_{32} & x_{33}
\end{array}
\right]
<ref> |-S
â¡xâ‚â‚  xâ‚â‚‚  xâ‚â‚ƒâ¤
â¢xâ‚‚â‚  xâ‚‚â‚‚  xâ‚‚â‚ƒâ¥
â£xâ‚ƒâ‚  xâ‚ƒâ‚‚  xâ‚ƒâ‚ƒâ¦
<ref> -A
+x    x    x  +
| 11   12   13|
|x    x    x  |
| 21   22   23|
|x    x    x  |
+ 31   32   33+
<end>

<input> array2
\left[
\begin{array}{ccc}
x_{11} & x_{12} & x_{13}\\
x_{21} & x_{22} & x_{23}\\
x_{31} & x_{32} & x_{33}
\end{array} \left|
\begin{array}{ccc}
y_{11} & y_{12} & y_{13}\\
y_{21} & y_{22} & y_{23}\\
y_{31} & y_{32} & y_{33}
\end{array}
\right.
\right]
<ref> |-S
â¡xâ‚â‚  xâ‚â‚‚  xâ‚â‚ƒ â¢yâ‚â‚  yâ‚â‚‚  yâ‚â‚ƒâ¤
â¢xâ‚‚â‚  xâ‚‚â‚‚  xâ‚‚â‚ƒ â¢yâ‚‚â‚  yâ‚‚â‚‚  yâ‚‚â‚ƒâ¥
â£xâ‚ƒâ‚  xâ‚ƒâ‚‚  xâ‚ƒâ‚ƒ â¢yâ‚ƒâ‚  yâ‚ƒâ‚‚  yâ‚ƒâ‚ƒâ¦
<ref> -A
+x    x    x   |y    y    y  +
| 11   12   13 | 11   12   13|
|x    x    x   |y    y    y  |
| 21   22   23 | 21   22   23|
|x    x    x   |y    y    y  |
+ 31   32   33 | 31   32   33+
<end>

Shockly-Read-Hall recombination over depletion width
<input> SRH
\int_0^W \frac{np}{n+p}dx = \int_0^W \frac{n_0}{exp \left( \frac{E_0(x-x_0)}{kT} \right)+exp \left( -\frac{E_0(x-x_0)}{kT}\right)}dx=\frac{n_0kT}{E_0} \left[ arctan \left( exp \left[\frac{E_0(x-x_0)}{kT}\right]\right)\right]^{x=W}_{x=0} \approx  \frac{n_0kT}{E_0} pi
<ref> |-S
 W          W                                                                     x=W
âŒ    np     âŒ                   nâ‚€                  nâ‚€kT â¡        â›     â¡Eâ‚€(x-xâ‚€)â¤ââ¤      nâ‚€kT
â®  â”€â”€â”€dx = â®  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€dx=â”€â”€â”€â”€ â¢ arctan âœ exp â¢â”€â”€â”€â”€â”€â”€â”€â”€â¥âŸâ¥    â‰ˆ â”€â”€â”€â”€ pi
âŒ¡â‚€ n+p     âŒ¡â‚€     â› Eâ‚€(x-xâ‚€) â     â›  Eâ‚€(x-xâ‚€)â    Eâ‚€  â£        â     â£   kT   â¦â â¦â‚“â‚Œâ‚€    Eâ‚€
              exp âœ â”€â”€â”€â”€â”€â”€â”€â”€ âŸ+exp âœ -â”€â”€â”€â”€â”€â”€â”€â”€âŸ
                  â    kT    â      â     kT   â 
<ref> -A
                                                                                  x=W
 W          W                 n                   n kT +        /     +E (x-x )+\+      n kT
/   np     /                   0                   0   |        |     | 0    0 |||       0
|  ---dx = |  ---------------------------------dx=---- | arctan | exp |--------|||    â‰ˆ ---- pi
/  n+p     /      / E (x-x ) \     /  E (x-x )\    E   +        \     +   kT   +/+       E
 0          0     |  0    0  |     |   0    0 |     0                             x=0     0
              exp | -------- |+exp | ---------|
                  \    kT    /     \     kT   /
<end>

<input> cases
f(x) = \left{\begin{array}{lr}
        \frac{1}{x+1} +12 & -12<x<0\\
         & \\ 13-x & x<-12, x>0
\end{array}\right.
<ref> |-S
       â§  1
       âª â”€â”€â”€ +12     -12<x<0
f(x) = â¨ x+1
       âª
       â© 13-x     x<-12, x>0
<ref> -A
       /  1
       | --- +12     -12<x<0
f(x) = < x+1
       |
       \ 13-x     x<-12, x>0
<end>

Continues fraction
<input> contfraction
a = \frac{1}{\sqrt{2} +
\frac{1}{\sqrt{2} +
\frac{1}{\sqrt{2} +
\frac{1}{\sqrt{2} + ...
}}}}
<ref> |-S
                 1
a = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”Œâ”€â”            1
    â•²â”‚2  +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
           â”Œâ”€â”         1
          â•²â”‚2  +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                 â”Œâ”€â”      1
                â•²â”‚2  +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                       â”Œâ”€â”
                      â•²â”‚2  + ...
<ref> -A
                 1
a = ----------------------------
     ___            1
    \|2  +----------------------
           ___         1
          \|2  +----------------
                 ___      1
                \|2  +----------
                       ___
                      \|2  + ...
<end>

<input> eq29
\prod_{i=1}^{\infty} \sqrt{
  a_{ala}+b^{ela}- \frac{
    \left[
      a+\frac{
        a+b^{
          \left(
            3+4a
          \right)
        }
      }{
        4a-3c
      }
    \right]
  }{
    a_1-\sqrt{2}
  }
}
+
\left|
\begin{array}{ccc}
\frac{8}{2} &1 &3 \\
2 &3 & 
\left|
\begin{array}{cc}
1 &2 \\
3 &4 
\end{array}
\right| \\
3 &\sqrt{5} &12
\end{array}
\right|
<ref> |-S
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             â¡    a+b â½ Â³âºâ´áµƒ â¾   â¤   â¢8              â¢
 âˆ      â”‚             â¢ a+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â¥   â¢â”€   1     3    â¢
â”¬â”€â”¬ â•²   â”‚             â£        4a-3c      â¦   â¢2              â¢
â”‚ â”‚  â•²  â”‚ aâ‚â‚—â‚+báµ‰Ë¡áµƒ- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ +â¢        â¢1 2 â¢ â¢
â±â¼Â¹   â•² â”‚                        â”Œâ”€â”          â¢2   3   â¢3 4 â¢ â¢
       â•²â”‚                    aâ‚-â•²â”‚2           â¢   â”Œâ”€â”         â¢
                                              â¢3 â•²â”‚5     12   â¢
<ref> -A
         _____________________________________
         |             +        ( 3+4a )   +
         |             |    a+b            |   |8              |
 âˆ       |             | a+--------------- |   |-   1     3    |
+-+ \    |       ela   +        4a-3c      +   |2              |
| |  \   | a   +b   - ----------------------- +|        |1 2 | |
i=1   \  |  ala                   ___          |2   3   |3 4 | |
       \ |                    a -\|2           |   ___         |
        \|                     1               |3 \|5     12   |
<end>

<input> Taylor
f(x) = \sum^{\infty}_{i=0} \frac{f^{(i)}(a)}{i!}(x-a)^i
<ref> |-S
        âˆ
        â²  fâ½â±â¾(a)
f(x) =  â³  â”€â”€â”€â”€â”€â”€â”€(x-a)â±
       â±â¼â°    i!
<ref> -A
       âˆ    (i)
       __  f   (a)     i
f(x) = \   -------(x-a)
       /_     i!
       i=0
<end>


<input> binom1
\binom{a}{b} = \frac{a!}{(a-b)!b!}
<ref> |-S
â›aâ      a!
âœ âŸ = â”€â”€â”€â”€â”€â”€â”€â”€
âbâ    (a-b)!b!
<ref> -A
/a\      a!
| | = --------
\b/   (a-b)!b!
<end>


<input> binom2
\sum_{i=6}^{10}\left[\binom{A}{i} \binom{L}{10-i}\right]
<ref> |-S
â‚â‚€
 â² â¡â›Aâ â› L  ââ¤
 â³ â¢âœ âŸ âœ    âŸâ¥
â±â¼â¶â£âiâ  â10-iâ â¦
<ref> -A
10
__ +/A\ / L  \+
\  || | |    ||
/_ +\i/ \10-i/+
i=6
<end>


<input> binom3
\sum_{i=6}^{10}{\frac{\binom{A}{i} \binom{L}{10-i}}{\binom{L + A}{10}}}
<ref> |-S
   â›Aâ â› L  â
â‚â‚€ âœ âŸ âœ    âŸ
 â² âiâ  â10-iâ 
 â³ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â±â¼â¶ â›L + Aâ
    âœ     âŸ
    â  10 â 
<ref> -A                   
   /A\ / L  \
10 | | |    |
__ \i/ \10-i/
\  ----------
/_  /L + A\
i=6 |     |
    \  10 /
<end>
                   

<input> binom4
C(N) = \binom{L}{10 - N} \sum_{i=0}^{min(N,2)}\left[\binom{B}{i} \sum_{j=0}^{min(2,
N-i)}\left(\binom{B}{j} \binom{B}{min(2, N-i-j)}\right)\right]
<ref> |-S
                min(N,2)â¡    min(2,N-i)                     â¤
       â›  L   â   â²     â¢â›Bâ    â²      â›â›Bâ â›      B      âââ¥
C(N) = âœ      âŸ   â³     â¢âœ âŸ    â³      âœâœ âŸ âœ             âŸâŸâ¥
       â10 - Nâ    â±â¼â°   â£âiâ     Ê²â¼â°    ââjâ  âmin(2, N-i-j)â â â¦
<ref> -A      
                min(N,2)+    min(2,N-i)                     +
       /  L   \    __   |/B\     __    //B\ /      B      \\|
C(N) = |      |    \    || |     \     || | |             |||
       \10 - N/    /_   |\i/     /_    \\j/ \min(2, N-i-j)//|
                   i=0  +        j=0                        +
<end>
Lorenz Equations
<input> Lorenz
\begin{aligned} 
\dot{x} & = \sigma(y-x) \\ 
\dot{y} & = \rho x - y - xz \\ 
\dot{z} & = -\beta z + xy 
\end{aligned}
<ref> |-S|-A
 Ì‡x  = Ïƒ(y-x)
 Ì‡y  = Ïx - y - xz
 Ì‡z  = -Î²z + xy
<end>

Cauchy-Schwarz Inequality
<input> CauchySchwarz
\left( \sum_{k=1}^n a_k b_k \right)^2 \leq \left( \sum_{k=1}^n a_k^2 \right) \left( \sum_{k=1}^n b_k^2 \right) 
<ref> |-S
â›  â‚™        âÂ²  â›  â‚™     â â›  â‚™     â
âœ  â²        âŸ   âœ  â²   2 âŸ âœ  â²   2 âŸ
âœ  â³  aâ‚– bâ‚– âŸ  â‰¤âœ  â³  aâ‚– âŸ âœ  â³  bâ‚– âŸ
â áµâ¼Â¹       â    â áµâ¼Â¹    â  â áµâ¼Â¹    â 
<ref> -A
             2
/ n         \   / n      \ / n      \
| __        |   | __   2 | | __   2 |
| \   a  b  |  â‰¤| \   a  | | \   b  |
| /_   k  k |   | /_   k | | /_   k |
\ k=1       /   \ k=1    / \ k=1    /
<end>

cross-product
<input> CrossProd
\mathbf{V}_1 \times \mathbf{V}_2 = \begin{vmatrix} \mathbf{i} & \mathbf{j} & \mathbf{k} \\ \frac{\partial X}{\partial u} & \frac{\partial Y}{\partial u} & 0 \\ \frac{\partial X}{\partial v} & \frac{\partial Y}{\partial v} & 0 \end{vmatrix}
<ref> |-S
         â¢ ğ¢   ğ£   ğ¤ â¢
         â¢ ğœ•X  ğœ•Y    â¢
         â¢ â”€â”€  â”€â”€  0 â¢
ğ•â‚ Ã—ğ•â‚‚ = â¢ ğœ•u  ğœ•u    â¢
         â¢ ğœ•X  ğœ•Y    â¢
         â¢ â”€â”€  â”€â”€  0 â¢
         â¢ ğœ•v  ğœ•v    â¢
<ref> -A
         | ğ¢   ğ£   ğ¤ |
         | ğœ•X  ğœ•Y    |
         | --  --  0 |
ğ•  Ã—ğ•  = | ğœ•u  ğœ•u    |
 1   2   | ğœ•X  ğœ•Y    |
         | --  --  0 |
         | ğœ•v  ğœ•v    |
<end>

The probability of getting k heads when flipping a coin n times
<input> HeadProbability
P(E) = {n\choose k} p^k (1-p)^{ n-k} 
<ref> |-S
       â›nâ
P(E) = âœ âŸ páµ (1-p) â¿â»áµ
       âkâ 
<ref> -A
       /n\  k       n-k
P(E) = | | p  (1-p)
       \k/
<end>

An Identity of Ramanujan
<input> Ramanujan
\frac{1}{\left(\sqrt{\phi \sqrt{5}}-\phi\right) e^{\frac25 \pi}} = 1+\frac{e^{-2\pi}}{1+\frac{e^{-4\pi}}{1+\frac{e^{-6\pi}}{1+\frac{e^{-8\pi}}{1+\ldots}}}}
<ref> |-S
                           -2Ï€
        1                 e
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ = 1+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
               2            -4Ï€
â›  â”Œâ”€â”€â”€â”€â”€â”  â  â”€ Ï€         e
âœâ•² â”‚  â”Œâ”€â”   âŸ  5       1+â”€â”€â”€â”€â”€â”€â”€â”€
â â•²â”‚Ï•â•²â”‚5  -Ï•â  e              -6Ï€
                            e
                         1+â”€â”€â”€â”€â”€â”€
                              -8Ï€
                             e
                           1+â”€â”€â”€â”€
                             1+â€¦
<ref> -A
                           -2Ï€
        1                 e
------------------ = 1+----------
               2            -4Ï€
/  _______  \  - Ï€         e
|\ |  ___   |  5       1+--------
\ \|Ï•\|5  -Ï•/ e              -6Ï€
                            e
                         1+------
                              -8Ï€
                             e
                           1+----
                             1+â€¦
<end>

A Rogers-Ramanujan Identity. 
Issue: utftex does not switch to a math environment from within a \text{}
modified \text{for $|q|<1$} to \text{for} |q|<1
<input> Rogers-Ramanujan
1 + \frac{q^2}{(1-q)}+\frac{q^6}{(1-q)(1-q^2)}+\cdots = \prod_{j=0}^{\infty}\frac{1}{(1-q^{5j+2})(1-q^{5j+3})}, \quad\quad \text{for} |q|<1. 
<ref> |-S
                          âˆ
      qÂ²       qâ¶        â”¬â”€â”¬        1
1 + â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â‹¯= â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€,      for |q|<1.
    (1-q) (1-q)(1-qÂ²)    Ê²â¼â°(1-qâµÊ²âºÂ²)(1-qâµÊ²âºÂ³)
<ref> -A
       2        6         âˆ
      q        q         +-+        1
1 + -----+-----------+â‹¯= | |------------------,      for |q|<1.
    (1-q)          2     j=0    5j+2     5j+3
          (1-q)(1-q )       (1-q    )(1-q    )
<end>

Maxwellâ€™s Equations
<input> Maxwell
\begin{aligned}
\nabla \times \vec{\mathbf{B}} -\, \frac1c\, \frac{\partial\vec{\mathbf{E}}}{\partial t} & = \frac{4\pi}{c}\vec{\mathbf{j}} \\ 
\nabla \cdot \vec{\mathbf{E}} & = 4 \pi \rho \\ 
\nabla \times \vec{\mathbf{E}}\, +\, \frac1c\, \frac{\partial\vec{\mathbf{B}}}{\partial t} & = \vec{\mathbf{0}} \\ 
\nabla \cdot \vec{\mathbf{B}} & = 0 
\end{aligned}
<ref> |-S
       1 ğœ•ğ„    4Ï€
 âˆ‡Ã—ğ - â”€ â”€â”€  = â”€â”€ğ£
       c ğœ•t    c
        âˆ‡â‹…ğ„  = 4 Ï€Ï
       1 ğœ•ğ
 âˆ‡Ã—ğ„ + â”€ â”€â”€  = ğŸ
       c ğœ•t
        âˆ‡â‹…ğ  = 0
<ref> -A
       1 ğœ•ğ„    4Ï€
 âˆ‡Ã—ğ - - --  = --ğ£
       c ğœ•t    c
        âˆ‡â‹…ğ„  = 4 Ï€Ï
       1 ğœ•ğ
 âˆ‡Ã—ğ„ + - --  = ğŸ
       c ğœ•t
        âˆ‡â‹…ğ  = 0
<end>

One-Diode solar cell equation
<input> Diode
I(V) = I_{00}\left(\frac{T}{T_0}\right)^3 \exp\left(\frac{E_\text{x}(T-T_0)}{kTT_0}\right) \left[\exp\left(\frac{V-I(V)R_\text{s}}{nkT}\right) - 1\right] - I_\text{ph} + \frac{V}{R_\text{sh}}
<ref> |-S
          â›T âÂ³    â›Eâ‚“(T-Tâ‚€)â â¡   â›V-I(V)Râ‚›â    â¤          V
I(V) = Iâ‚€â‚€âœâ”€â”€âŸ  expâœâ”€â”€â”€â”€â”€â”€â”€â”€âŸ â¢expâœâ”€â”€â”€â”€â”€â”€â”€â”€âŸ - 1â¥ - Iâ‚šâ‚• + â”€â”€â”€
          âTâ‚€â      â  kTTâ‚€  â  â£   â  nkT   â     â¦         Râ‚›â‚•
<ref> -A
              3    /E (T-T )\ +   /V-I(V)R \    +
          /T \     | x    0 | |   |       s|    |          V
I(V) = I  |--|  exp|--------| |exp|--------| - 1| - I   + ---
        00|T |     |  kTT   | +   \  nkT   /    +    ph   R
          \ 0/     \     0  /                              sh
<end>

Test Fonts
<input> fonts
abcdefghijklmnopqrstuvwxyz\\
ABCDEFGHIJKLMNOPQRSTUVWXYZ\\
1234567890
<ref> |-F text
abcdefghijklmnopqrstuvwxyz
ABCDEFGHIJKLMNOPQRSTUVWXYZ
1234567890
<ref> -F mathtt
ğšŠğš‹ğšŒğšğšğšğšğš‘ğš’ğš“ğš”ğš•ğš–ğš—ğš˜ğš™ğššğš›ğšœğšğšğšŸğš ğš¡ğš¢ğš£
ğ™°ğ™±ğ™²ğ™³ğ™´ğ™µğ™¶ğ™·ğ™¸ğ™¹ğ™ºğ™»ğ™¼ğ™½ğ™¾ğ™¿ğš€ğšğš‚ğšƒğš„ğš…ğš†ğš‡ğšˆğš‰
ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¼ğŸ½ğŸ¾ğŸ¿ğŸ¶
<ref> -F mathsfit
ğ˜¢ğ˜£ğ˜¤ğ˜¥ğ˜¦ğ˜§ğ˜¨ğ˜©ğ˜ªğ˜«ğ˜¬ğ˜­ğ˜®ğ˜¯ğ˜°ğ˜±ğ˜²ğ˜³ğ˜´ğ˜µğ˜¶ğ˜·ğ˜¸ğ˜¹ğ˜ºğ˜»
ğ˜ˆğ˜‰ğ˜Šğ˜‹ğ˜Œğ˜ğ˜ğ˜ğ˜ğ˜‘ğ˜’ğ˜“ğ˜”ğ˜•ğ˜–ğ˜—ğ˜˜ğ˜™ğ˜šğ˜›ğ˜œğ˜ğ˜ğ˜Ÿğ˜ ğ˜¡
1234567890
<ref> -F mathsfbfit
ğ™–ğ™—ğ™˜ğ™™ğ™šğ™›ğ™œğ™ğ™ğ™Ÿğ™ ğ™¡ğ™¢ğ™£ğ™¤ğ™¥ğ™¦ğ™§ğ™¨ğ™©ğ™ªğ™«ğ™¬ğ™­ğ™®ğ™¯
ğ˜¼ğ˜½ğ˜¾ğ˜¿ğ™€ğ™ğ™‚ğ™ƒğ™„ğ™…ğ™†ğ™‡ğ™ˆğ™‰ğ™Šğ™‹ğ™Œğ™ğ™ğ™ğ™ğ™‘ğ™’ğ™“ğ™”ğ™•
1234567890
<ref> -F mathsfbf
ğ—®ğ—¯ğ—°ğ—±ğ—²ğ—³ğ—´ğ—µğ—¶ğ—·ğ—¸ğ—¹ğ—ºğ—»ğ—¼ğ—½ğ—¾ğ—¿ğ˜€ğ˜ğ˜‚ğ˜ƒğ˜„ğ˜…ğ˜†ğ˜‡
ğ—”ğ—•ğ—–ğ——ğ—˜ğ—™ğ—šğ—›ğ—œğ—ğ—ğ—Ÿğ— ğ—¡ğ—¢ğ—£ğ—¤ğ—¥ğ—¦ğ—§ğ—¨ğ—©ğ—ªğ—«ğ—¬ğ—­
ğŸ­ğŸ®ğŸ¯ğŸ°ğŸ±ğŸ²ğŸ³ğŸ´ğŸµğŸ¬
<ref> -F mathsf
ğ–ºğ–»ğ–¼ğ–½ğ–¾ğ–¿ğ—€ğ—ğ—‚ğ—ƒğ—„ğ—…ğ—†ğ—‡ğ—ˆğ—‰ğ—Šğ—‹ğ—Œğ—ğ—ğ—ğ—ğ—‘ğ—’ğ—“
ğ– ğ–¡ğ–¢ğ–£ğ–¤ğ–¥ğ–¦ğ–§ğ–¨ğ–©ğ–ªğ–«ğ–¬ğ–­ğ–®ğ–¯ğ–°ğ–±ğ–²ğ–³ğ–´ğ–µğ–¶ğ–·ğ–¸ğ–¹
ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ«ğŸ¢
<ref> -F mathscr
ğ“ªğ“«ğ“¬ğ“­ğ“®ğ“¯ğ“°ğ“±ğ“²ğ“³ğ“´ğ“µğ“¶ğ“·ğ“¸ğ“¹ğ“ºğ“»ğ“¼ğ“½ğ“¾ğ“¿ğ”€ğ”ğ”‚ğ”ƒ
ğ“ğ“‘ğ“’ğ““ğ“”ğ“•ğ“–ğ“—ğ“˜ğ“™ğ“šğ“›ğ“œğ“ğ“ğ“Ÿğ“ ğ“¡ğ“¢ğ“£ğ“¤ğ“¥ğ“¦ğ“§ğ“¨ğ“©
1234567890
<ref> -F mathnormal
ğ‘ğ‘ğ‘ğ‘‘ğ‘’ğ‘“ğ‘”â„ğ‘–ğ‘—ğ‘˜ğ‘™ğ‘šğ‘›ğ‘œğ‘ğ‘ğ‘Ÿğ‘ ğ‘¡ğ‘¢ğ‘£ğ‘¤ğ‘¥ğ‘¦ğ‘§
ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ğ¾ğ¿ğ‘€ğ‘ğ‘‚ğ‘ƒğ‘„ğ‘…ğ‘†ğ‘‡ğ‘ˆğ‘‰ğ‘Šğ‘‹ğ‘Œğ‘
1234567890
<ref> -F mathfrak
ğ”ğ”Ÿğ” ğ”¡ğ”¢ğ”£ğ”¤ğ”¥ğ”¦ğ”§ğ”¨ğ”©ğ”ªğ”«ğ”¬ğ”­ğ”®ğ”¯ğ”°ğ”±ğ”²ğ”³ğ”´ğ”µğ”¶ğ”·
ğ”„ğ”…â„­ğ”‡ğ”ˆğ”‰ğ”Šâ„Œâ„‘ğ”ğ”ğ”ğ”ğ”‘ğ”’ğ”“ğ””â„œğ”–ğ”—ğ”˜ğ”™ğ”šğ”›ğ”œâ„¨
1234567890
<ref> -F mathcal
ğ’¶ğ’·ğ’¸ğ’¹â„¯ğ’»â„Šğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒâ„´ğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“
ğ’œâ„¬ğ’ğ’Ÿâ„°â„±ğ’¢â„‹â„ğ’¥ğ’¦â„’â„“ğ’©ğ’ªğ’«ğ’¬â„›ğ’®ğ’¯ğ’°ğ’±ğ’²ğ’³ğ’´ğ’µ
1234567890
<ref> -F mathbfit
ğ’‚ğ’ƒğ’„ğ’…ğ’†ğ’‡ğ’ˆğ’‰ğ’Šğ’‹ğ’Œğ’ğ’ğ’ğ’ğ’‘ğ’’ğ’“ğ’”ğ’•ğ’–ğ’—ğ’˜ğ’™ğ’šğ’›
ğ‘¨ğ‘©ğ‘ªğ‘«ğ‘¬ğ‘­ğ‘®ğ‘¯ğ‘°ğ‘±ğ‘²ğ‘³ğ‘´ğ‘µğ‘¶ğ‘·ğ‘¸ğ‘¹ğ‘ºğ‘»ğ‘¼ğ‘½ğ‘¾ğ‘¿ğ’€ğ’
1234567890
<ref> -F mathbf
ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³
ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™
ğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—ğŸ
<ref> -F mathbb
ğ•’ğ•“ğ•”ğ••ğ•–ğ•—ğ•˜ğ•™ğ•šğ•›ğ•œğ•ğ•ğ•Ÿğ• ğ•¡ğ•¢ğ•£ğ•¤ğ•¥ğ•¦ğ•§ğ•¨ğ•©ğ•ªğ•«
ğ”¸ğ”¹â„‚ğ”»ğ”¼ğ”½ğ”¾â„ğ•€ğ•ğ•‚ğ•ƒğ•„â„•ğ•†â„™â„šâ„ğ•Šğ•‹ğ•Œğ•ğ•ğ•ğ•â„¤
ğŸ™ğŸšğŸ›ğŸœğŸğŸğŸŸğŸ ğŸ¡ğŸ˜
<end>
